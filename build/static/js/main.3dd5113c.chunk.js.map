{"version":3,"sources":["index.js"],"names":["BaseMap","_ref","children","props","_objectWithoutProperties","_excluded","React","createElement","Map","Object","assign","mapStyle","accessToken","center","zoom","options","minZoom","renderWorldCopies","attributionControl","TwoFingerDrag","component","_ref2","map","previousSelectedFeatureId","selectedFeatureId","nav","mapboxgl","NavigationControl","entireExtent","entireExtentControl","_classCallCheck","_createClass","key","value","this","_map","_container","document","className","addEventListener","e","preventDefault","flyTo","duration","essential","innerHTML","container","parentNode","removeChild","undefined","createPopup","feature","name","properties","url","type","replace","city","address","author","photos","split","isCaruselShow","length","onlyOnePhoto","car_el","forEach","photo","index","photo_name","concat","myFunction","data","id","popup","getElementsByClassName","remove","i","features","coords","geometry","coordinates","slice","popupHtml","setFeatureState","source","selected","Popup","setLngLat","setHTML","addTo","toggleSidebar","elem","getElementById","button","collapsed","classList","toggle","padding","easeTo","addControl","root","sider_right","sider_right_button","sortFeatures","feature1","feature2","onclick","appendChild","fetch","then","response","json","new_features_order","sort","mskContainer","spbContainer","ekbContainer","brnContainer","vldContainer","yosContainer","krsContainer","nznContainer","nvbContainer","rstContainer","tmkContainer","tmnContainer","srgContainer","ufaContainer","yalContainer","div","a","appendData","catch","err","console","log","_step","list","_iterator","_createForOfIteratorHelper","querySelectorAll","s","n","done","li","span","add","prepend","append","nextSibling","f","_step2","_iterator2","hidden","event","target","tagName","selected_names","selected_names1","childrenList","querySelector","on","addSource","cluster","clusterMaxZoom","clusterRadius","addLayer","filter","paint","layout","visibility","queryRenderedFeatures","point","layers","clusterId","cluster_id","getSource","getClusterExpansionZoom","Math","abs","lngLat","lng","getCanvas","style","cursor","getZoom","setLayoutProperty","App","Fragment","render"],"mappings":"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","file":"static/js/main.3dd5113c.chunk.js","sourcesContent":["import React from \"react\";\nimport mapboxgl from 'mapbox-gl';\nimport { render } from \"react-dom\";\nimport { Map } from \"@commodityvectors/react-mapbox-gl\";\n\nimport \"./style.css\";\nimport Sider from \"./sider\";\n\nconst BaseMap = ({ children, ...props }) => {\n  return (\n    <Map\n      mapStyle={\"mapbox://styles/valeriabelousova/clfkslwn8001g01pp9irv5yta\"}\n      accessToken=\"pk.eyJ1IjoidmFsZXJpYWJlbG91c292YSIsImEiOiJjazVkcm51YzMwZGZjM2xvM2xnZmltOHd5In0.1xUC4Qs0uGpmWUQElmlDGA\"\n      center={[37.6156, 55.7522]}\n      zoom={3}\n      options={{\n        minZoom: 3,\n        renderWorldCopies: false,\n        attributionControl: false}}\n      {...props}\n    >\n      {children}\n    </Map>\n  );\n};\n\nconst TwoFingerDrag = Map.component(TwoFingerDragComponent);\nfunction TwoFingerDragComponent({ map }) {\n  var previousSelectedFeatureId = null;\n  var selectedFeatureId = 0;\n  const nav = new mapboxgl.NavigationControl();\n  class entireExtentControl {\n    onAdd(map) {\n        this._map = map;\n        this._container = document.createElement('div');\n        this._container.className = 'mapboxgl-ctrl mapboxgl-ctrl-group';\n        this._container.addEventListener('contextmenu', (e) => e.preventDefault());\n        this._container.addEventListener('click', (e) => map.flyTo({\n            center: [37.6156, 55.7522],\n            duration: 1000,\n            essential: true,\n            zoom: 3\n    }));\n\n        this._container.innerHTML =\n        '<button>' +\n        '<span class=\"mapboxgl-ctrl-icon my-image-button\" aria-hidden=\"true\" title=\"Description\"></span>' +\n        '</button>'\n\n        return this._container;\n    }\n    onRemove() {\n        this.container.parentNode.removeChild(this.container);\n        this.map = undefined;\n    }}\n  \n  const entireExtent = new entireExtentControl();\n  map.addControl(entireExtent, 'top-left');\n  map.addControl(nav, 'top-left');\n\n  function createPopup(feature) {\n    var name = feature.properties['Назва']\n    var url = feature.properties['Сайт'];\n\n    var type = feature.properties['Тип_з'].replace(';', ',');\n    var city = feature.properties['Город'];\n    var address = feature.properties['Адрес'];\n    var author = feature.properties['Имя_с'];\n    var photos = feature.properties['photos'].split(',');\n\n    const isCaruselShow = (photos.length > 0) && (photos[0] !== '');\n    const onlyOnePhoto = (photos.length === 1) && (photos[0] !== '');\n\n    var car_el = ``;\n    photos.forEach((photo, index) => {\n                                    var photo_name = photo;\n                                    if (index === 0) {\n                                        car_el = car_el + \n                                        `<div class=\"carousel-item active\">\n                                            <img class=\"d-block w-100\"\n                                             src=\"https://storage.yandexcloud.net/champagnefest/${photo_name.replace('\\'', '').replace('\\'', '').replace(' ', '')}\" \n                                             alt=\"First slide\">\n                                        </div>`\n                                    }\n                                    else {\n                                        car_el = car_el + \n                                        `<div class=\"carousel-item\">\n                                            <img class=\"d-block w-100\"\n                                             src=\"https://storage.yandexcloud.net/champagnefest/${photo_name.replace('\\'', '').replace('\\'', '').replace(' ', '')}\" \n                                             alt=\"First slide\">\n                                        </div>`\n                                    }\n                                    }\n                                )\n    var popupContent = `<div class='content'>\n                    ${isCaruselShow ? `\n                        <div class='carousel'>\n                        <div id=\"carouselExampleControls\" class=\"carousel slide\" data-ride=\"carousel\">\n                            <div class=\"carousel-inner\">\n                                ${car_el}\n                            </div>\n                            ${ !onlyOnePhoto ? `\n                                <a class=\"carousel-control-prev\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"prev\">\n                                <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                                <span class=\"sr-only\">Previous</span>\n                            </a>\n                            <a class=\"carousel-control-next\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"next\">\n                                <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                                <span class=\"sr-only\">Next</span>\n                            </a>` : ``}\n                            </div>\n                    </div>` : ``}\n                    \n                    <div class='description'>\n                        <div class='name'><a href=${url} target=\"_blank\" style=\"color: black\">${name}</a></div>\n                        <div class='type'>${type}</div>\n                        <br>\n                        <div class='address'>${city}, ${address}</div>\n                        <br>\n                        ${author ? `<div class='type'>Автор винной подборки –</div>\n                                    <div class='author'>${author}</div>` : `` }\n                    </div>\n                </div>`;\n\n        return popupContent;\n    }\n    function myFunction(data, id) {\n        const popup = document.getElementsByClassName('mapboxgl-popup');\n        if ( popup.length ) {\n            popup[0].remove();\n        }\n        for (var i = 0; i < data.features.length; i++) {\n            if (data.features[i].id == id) {\n                var coords = data.features[i].geometry.coordinates.slice();\n                var popupHtml = createPopup(data.features[i]);\n            }\n        }\n        map.flyTo({\n                    center: coords,\n                    zoom: 17,\n                    duration: 4000,\n                    essential: true\n                    });\n        \n        selectedFeatureId = id;\n        map.setFeatureState({ source: 'wines', id: previousSelectedFeatureId }, { selected: false })\n        map.setFeatureState({ source: 'wines', id: selectedFeatureId }, { selected: true })\n        previousSelectedFeatureId = selectedFeatureId;\n\n        var isCaruselShow = false;\n        new mapboxgl.Popup().setLngLat(coords).setHTML(popupHtml).addTo(map);\n    };\n\n    function toggleSidebar() {\n        const elem = document.getElementById('right');\n        const button = document.getElementById('sider_btn');\n        const collapsed = elem.classList.toggle('collapsed');\n        button.classList.toggle('close');\n        const padding = {};\n        padding['right'] = collapsed ? 0 : 200; \n            map.easeTo({\n            padding: padding,\n            duration: 3000\n        });\n        }\n  var root = document.getElementById('root');\n  var sider_right = document.createElement('div');\n  sider_right.innerHTML = `\n            <div id=\"right\" \n                class=\"sidebar flex-center right\" \n                style=\"position: absolute; top: 0px; z-index: 99\">\n            <div class=\"sidebar-content rounded-rect flex-center\">\n                <ul class=\"list\" id=\"list\">\n                    <li class=\"cities\">Москва\n                      <ul id=\"msk\">\n                      </ul>\n                    </li>\n                    <li>Санкт-Петербург\n                      <ul id=\"spb\">\n                      </ul>\n                    </li>\n                    <li>Барнаул\n                        <ul id=\"brn\">\n                        </ul>\n                    </li>\n                    <li>Владивосток\n                        <ul id=\"vld\">\n                        </ul>\n                    </li>\n                    <li>Екатеринбург\n                      <ul id=\"ekb\">\n                      </ul>\n                    </li>\n                    <li>Йошкар-Ола\n                        <ul id=\"yos\">\n                        </ul>\n                    </li>\n                    <li>Красноярск\n                        <ul id=\"krs\">\n                        </ul>\n                    </li>\n                    <li>Нижний Новгород\n                        <ul id=\"nzn\">\n                        </ul>\n                    </li>\n                    <li>Новосибирск\n                        <ul id=\"nvb\">\n                        </ul>\n                    </li>\n                    <li>Ростов-на-Дону\n                        <ul id=\"rst\">\n                        </ul>\n                    </li>\n                    <li>Сургут\n                        <ul id=\"srg\">\n                        </ul>\n                    </li>\n                    <li>Томск\n                        <ul id=\"tmk\">\n                        </ul>\n                    </li>\n                    <li>Тюмень\n                        <ul id=\"tmn\">\n                        </ul>\n                    </li>\n                    <li>Уфа\n                        <ul id=\"ufa\">\n                        </ul>\n                    </li>\n                    <li>Ялта\n                        <ul id=\"yal\">\n                        </ul>\n                    </li>\n                  </ul>    \n            </div>\n            </div>\n            `;\n  var sider_right_button = document.createElement('div');\n  sider_right_button.id = \"sider_btn\";\n  sider_right_button.className = \"sidebar-toggle rounded-rect right\";\n  sider_right_button.onclick = function() { toggleSidebar('right'); };\n  root.appendChild(sider_right);\n  root.appendChild(sider_right_button);\n  \n\n  fetch('https://raw.githubusercontent.com/emgdevhelp/winemap/main/wine_poi_id_itog_photos.geojson')\n            .then(function (response) {\n                return response.json();\n            })\n            .then(function (data) {\n                var features = data.features;\n                var new_features_order = features.sort(sortFeatures);\n\n                data.features = new_features_order;\n\n                appendData(data);\n            })\n            .catch(function (err) {\n                console.log('error: ' + err);\n            });\n\n    function sortFeatures(feature1, feature2) {\n        if (feature1.properties['Назва'] < feature2.properties['Назва']) {return -1;}\n        if (feature1.properties['Назва'] > feature2.properties['Назва']) {return 1;}\n        return 0;\n    }\n\n    function appendData(data) {\n            var mskContainer = document.getElementById(\"msk\");\n            var spbContainer = document.getElementById(\"spb\");\n            var ekbContainer = document.getElementById(\"ekb\");\n\n            var brnContainer = document.getElementById(\"brn\");\n            var vldContainer = document.getElementById(\"vld\");\n            var yosContainer = document.getElementById(\"yos\");\n\n            var krsContainer = document.getElementById(\"krs\");\n            var nznContainer = document.getElementById(\"nzn\");\n            var nvbContainer = document.getElementById(\"nvb\");\n\n            var rstContainer = document.getElementById(\"rst\");\n            var tmkContainer = document.getElementById(\"tmk\");\n            var tmnContainer = document.getElementById(\"tmn\");\n            var srgContainer = document.getElementById(\"srg\");\n\n            var ufaContainer = document.getElementById(\"ufa\");\n            var yalContainer = document.getElementById(\"yal\");\n\n            for (var i = 0; i < data.features.length; i++) {\n                if (data.features[i].properties['Город'] == 'Москва') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    mskContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Санкт-Петербург') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    spbContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Барнаул') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    brnContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Владивосток') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    vldContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Екатеринбург') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    ekbContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Йошкар-Ола') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    yosContainer.appendChild(div);\n                }\n                if (data.features[i].properties['Город'] == 'Красноярск') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    krsContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Нижний Новгород') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    nznContainer.appendChild(div);\n                }\n                if (data.features[i].properties['Город'] == 'Новосибирск') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    nvbContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Ростов-на-Дону') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    a.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    rstContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Сургут') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    srgContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Томск') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    tmkContainer.appendChild(div);\n                } \n                if (data.features[i].properties['Город'] == 'Тюмень') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    tmnContainer.appendChild(div);\n                }\n                if (data.features[i].properties['Город'] == 'Уфа') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    ufaContainer.appendChild(div);\n                }\n                if (data.features[i].properties['Город'] == 'Ялта') {\n                    var div = document.createElement(\"li\");\n                    div.className = \"deselected\";\n                    var a = document.createElement(\"a\");\n                    a.className = \"deselected\";\n                    a.innerHTML = data.features[i].properties['Назва'];\n                    div.appendChild(a);\n                    var id = data.features[i].id;\n                    div.id = id;\n                    div.onclick = function() { myFunction(data, this.id); };\n                    yalContainer.appendChild(div);\n                } \n            }\n        }\n        var list = document.getElementById('list');\n        for (let li of list.querySelectorAll(\"li\")) {\n            let span = document.createElement(\"span\");\n            span.classList.add(\"hide\");\n            li.prepend(span);\n            span.append(span.nextSibling);\n            }\n        for (let ul of list.querySelectorAll(\"ul\")) {\n            ul.hidden = true;\n        }\n            \n            list.onclick = function (event) {\n                if (event.target.tagName != \"SPAN\") { \n                    if (event.target.tagName === \"A\") {\n                        var selected_names = document.getElementsByClassName('selected');\n                        for (var i = 0; i < selected_names.length; ++i) {\n                            selected_names[i].className = \"deselected\";\n                        }\n                        var selected_names1 = document.getElementsByClassName('selected1');\n                        for (var i = 0; i < selected_names1.length; ++i) {\n                            selected_names1[i].className = \"deselected\";\n                        }\n                        event.target.classList.remove(\"deselected\");\n                        event.target.classList.add(\"selected\");\n                        event.target.parentNode.classList.add(\"selected1\");\n                    }\n                    else {\n                        return;\n                    }\n                    \n                };\n\n                let childrenList = event.target.parentNode.querySelector(\"ul\");\n                if (!childrenList) return;\n                childrenList.hidden = !childrenList.hidden;\n\n                if (childrenList.hidden) {\n                    event.target.classList.add(\"hide\");\n                    event.target.classList.remove(\"show\");\n                } else {\n                    event.target.classList.add(\"show\");\n                    event.target.classList.remove(\"hide\");\n                }\n            };\n\n\n  map.on('load', () => {\n    //var previousSelectedFeatureId = null;\n    toggleSidebar();\n    map.addSource('wines', {\n        type: 'geojson',\n        data: 'https://raw.githubusercontent.com/emgdevhelp/winemap/main/wine_poi_id_itog_photos.geojson',\n        cluster: true,\n        clusterMaxZoom: 14,\n        clusterRadius: 38\n    });\n    map.addSource('msk_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Москва\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        37.6156,\n                        55.7522\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('spb_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Санкт-Петербург\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        30.315877,\n                        59.939099\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('krs_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Красноярск\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        92.8672,\n                        56.0184\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('nino_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Нижний Новгород\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        44.002,\n                        56.3287\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('ekb_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Екатеринбург\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        60.6122,\n                        56.8519\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('nsb_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Новосибирск\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        82.9346,\n                        55.0415\n                    ]\n                }\n            }]\n        }\n    });\n    map.addSource('brn_poi', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\"name\": \"Барнаул\"},\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        83.7636,\n                        53.3606\n                    ]\n                }\n            }]\n        }\n    });\n\n    map.addLayer({\n        id: 'clusters',\n        type: 'circle',\n        source: 'wines',\n        filter: ['has', 'point_count'],\n        paint: {\n            'circle-color': [\n                'step',\n                ['get', 'point_count'],\n                '#000000',\n                100,\n                '#000000',\n                750,\n                '#000000'\n            ],\n            'circle-radius': [\n                'step',\n                ['get', 'point_count'],\n                22,\n                10,\n                30,\n                25,\n                40\n            ]\n        }\n    });\n\n    map.addLayer({\n        id: 'cluster-count',\n        type: 'symbol',\n        source: 'wines',\n        filter: ['has', 'point_count'],\n        layout: {\n            'text-field': ['get', 'point_count_abbreviated'],\n            'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n            'text-size': 16\n        },\n        paint: {\n              'text-color': '#ffffff'\n            }\n    });\n\n    map.addLayer({\n        id: 'unclustered-point',\n        type: 'circle',\n        source: 'wines',\n        filter: ['!', ['has', 'point_count']],\n        paint: {\n            'circle-color': ['case',\n            ['==', ['feature-state', 'selected'], true], '#ffffff',\n            '#000000'\n            ],\n            'circle-radius': ['case',\n            ['==', ['feature-state', 'selected'], true], 5,\n            7\n            ],\n            'circle-stroke-width': ['case',\n            ['==', ['feature-state', 'selected'], true], 2,\n            0\n            ],\n            'circle-stroke-color': ['case',\n            ['==', ['feature-state', 'selected'], true], '#000000',\n            '#000000'\n            ],\n        }\n    });\n    const labelLayer = {\n        id: 'label_layer',\n        type: 'symbol',\n        source: 'wines',\n        layout: {\n            'text-field': \"{Город}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [0.64, 0.23],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n\n    const labelWines = {\n        id: 'wine_names',\n        type: 'symbol',\n        source: 'wines',\n        visibility: 'none',\n        layout: {\n            'text-field': \"{Назва}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [0.54, 0.23],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n\n    const msk_label = {\n        id: 'msk_names',\n        type: 'symbol',\n        source: 'msk_poi',\n        visibility: 'none',\n        layout: {\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [0.74, -2.33],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const spb_label = {\n        id: 'spb_names',\n        type: 'symbol',\n        source: 'spb_poi',\n        visibility: 'none',\n        layout: {\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.54, -1.3],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const krs_label = {\n        id: 'krs_names',\n        type: 'symbol',\n        source: 'krs_poi',\n        visibility: 'none',\n        layout: {\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.34, -0.8],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const nino_label = {\n        id: 'nino_names',\n        type: 'symbol',\n        source: 'nino_poi',\n        visibility: 'none',\n        layout: {\n            'visibility': 'none',\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.34, -0.8],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const ekb_label = {\n        id: 'ekb_names',\n        type: 'symbol',\n        source: 'ekb_poi',\n        visibility: 'none',\n        layout: {\n            'visibility': 'none',\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.34, -0.8],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const nsb_label = {\n        id: 'nsb_names',\n        type: 'symbol',\n        source: 'nsb_poi',\n        visibility: 'none',\n        layout: {\n            'visibility': 'none',\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.34, -0.8],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n    const brn_label = {\n        id: 'brn_names',\n        type: 'symbol',\n        source: 'brn_poi',\n        layout: {\n            'visibility': 'none',\n            'text-field': \"{name}\",\n            'text-size': 15,\n            'text-anchor': \"bottom-left\",\n            'text-font': ['Roboto Light', 'Arial Unicode MS Bold'],\n            'symbol-avoid-edges': true,\n            'text-offset': [1.34, -0.8],\n        },\n        paint: {\n        'text-color': '#000000',\n        }\n    };\n\n    map.addLayer(labelWines);\n    map.addLayer(labelLayer);\n    map.addLayer(msk_label);\n    map.addLayer(spb_label);\n    map.addLayer(krs_label);\n    map.addLayer(ekb_label);\n    map.addLayer(nsb_label);\n    map.addLayer(brn_label);\n    map.addLayer(nino_label);\n\n    map.on('click', 'clusters', (e) => {\n        const features = map.queryRenderedFeatures(e.point, {\n            layers: ['clusters']\n        });\n        const clusterId = features[0].properties.cluster_id;\n        map.getSource('wines').getClusterExpansionZoom(\n            clusterId,\n            (err, zoom) => {\n                if (err) return;\n\n                map.easeTo({\n                    center: features[0].geometry.coordinates,\n                    duration: 3000,\n                    essential: true,\n                    zoom: zoom + 3\n                });\n            }\n        );\n    });\n    map.on('click', (event) => {\n        const features = map.queryRenderedFeatures(event.point, {layers: ['unclustered-point']});\n        if (!features.length) { \n            map.setFeatureState({ source: 'wines', id: previousSelectedFeatureId }, { selected: false })\n            return;\n            }\n        else {\n            map.setFeatureState({ source: 'wines', id: previousSelectedFeatureId }, { selected: false })\n        }\n        const feature = features[0];\n        if (feature) {\n            var selectedFeatureId = feature.id;\n            map.setFeatureState({ source: 'wines', id: previousSelectedFeatureId }, { selected: false })\n            map.setFeatureState({ source: 'wines', id: selectedFeatureId }, { selected: true })\n            previousSelectedFeatureId = selectedFeatureId;\n        }\n    });\n\n    map.on('click', 'unclustered-point', (e) => {\n        const coordinates = e.features[0].geometry.coordinates.slice();\n        var popupHtml = createPopup(e.features[0]);\n        \n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n        }\n\n        new mapboxgl.Popup().setLngLat(coordinates).setHTML(popupHtml).addTo(map);\n    });\n\n    map.on('mouseenter', 'clusters', () => {\n        map.getCanvas().style.cursor = 'pointer';\n    });\n    map.on('mouseleave', 'clusters', () => {\n        map.getCanvas().style.cursor = '';\n    });\n    // Center the map on the coordinates of any clicked circle from the 'circle' layer.\n    map.on('click', 'unclustered-point', (e) => {\n        var zoom = map.getZoom();\n        if (e.features[0].id === 73) {\n            if (zoom < 5 ) {\n                var zoom = 5;\n            }\n            map.flyTo({\n            center: e.features[0].geometry.coordinates,\n            zoom: zoom,\n            duration: 6000,\n            essential: true\n            });\n        }\n        if (e.features[0].id === 67) {\n            if (zoom < 12 ) {\n                var zoom = 12;\n            }\n            map.flyTo({\n            center: e.features[0].geometry.coordinates,\n            zoom: zoom,\n            duration: 6000,\n            essential: true\n            });\n        }\n        else {\n            if (zoom < 14 ) {\n                var zoom = 15;\n            }\n            map.flyTo({\n                center: e.features[0].geometry.coordinates,\n                zoom: zoom,\n                duration: 4000,\n                essential: true\n                });\n        }\n    });\n    map.on('mouseenter', 'unclustered-point', () => {\n        map.getCanvas().style.cursor = 'pointer';\n    });\n    map.on('mouseleave', 'unclustered-point', () => {\n        map.getCanvas().style.cursor = '';\n    });\n\n    // zoom labels\n    map.on('zoom', function(e) {\n        var zoom = map.getZoom();\n        if (zoom > 11) {\n            map.setLayoutProperty('wine_names', 'visibility', 'visible');\n        }\n        if (zoom <= 11) {\n            map.setLayoutProperty('wine_names', 'visibility', 'none');\n        }\n        if (map.getZoom() > 7) {\n            map.setLayoutProperty('label_layer', 'visibility', 'none');\n            map.setLayoutProperty('msk_names', 'visibility', 'none');\n            map.setLayoutProperty('spb_names', 'visibility', 'none');\n            map.setLayoutProperty('krs_names', 'visibility', 'none');\n        }\n        else {\n            map.setLayoutProperty('label_layer', 'visibility', 'visible');\n            map.setLayoutProperty('msk_names', 'visibility', 'visible');\n            map.setLayoutProperty('spb_names', 'visibility', 'visible');\n            map.setLayoutProperty('krs_names', 'visibility', 'visible');\n        }\n    });\n    map.on('zoom', function(e) {\n        var zoom = map.getZoom();\n        if (zoom < 3.2 || zoom > 7) {\n            map.setLayoutProperty('ekb_names', 'visibility', 'none');\n            map.setLayoutProperty('nsb_names', 'visibility', 'none');\n            map.setLayoutProperty('brn_names', 'visibility', 'none');\n        }\n        if (zoom < 5 || zoom > 7) {\n            map.setLayoutProperty('nino_names', 'visibility', 'none');\n        }\n        else {\n            map.setLayoutProperty('ekb_names', 'visibility', 'visible');\n            map.setLayoutProperty('nsb_names', 'visibility', 'visible');\n            map.setLayoutProperty('brn_names', 'visibility', 'visible');\n            map.setLayoutProperty('nino_names', 'visibility', 'visible');\n        }\n    });\n});\n\n\n\n  return null;\n}\n\nconst App = () => {\n  return (\n    <>\n      <BaseMap>\n        <TwoFingerDrag />\n      </BaseMap>\n    </>\n  );\n};\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}