(this["webpackJsonpreact-mapbox-gl"]=this["webpackJsonpreact-mapbox-gl"]||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var i=n(5),o=n(8),s=n(9),a=n(10),r=n(0),l=n.n(r),d=n(2),c=n.n(d),u=n(3),p=n(4),m=(n(7),["children"]),f=function(e){var t=e.children,n=Object(a.a)(e,m);return l.a.createElement(p.a,Object.assign({mapStyle:"mapbox://styles/valeriabelousova/clfkslwn8001g01pp9irv5yta",accessToken:"pk.eyJ1IjoidmFsZXJpYWJlbG91c292YSIsImEiOiJjazVkcm51YzMwZGZjM2xvM2xnZmltOHd5In0.1xUC4Qs0uGpmWUQElmlDGA",center:[37.6156,55.7522],zoom:3,options:{minZoom:3,renderWorldCopies:!1,attributionControl:!1}},n),t)},y=p.a.component((function(e){var t=e.map,n=null,a=0,r=new c.a.NavigationControl,l=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"onAdd",value:function(e){return this._map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl mapboxgl-ctrl-group",this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._container.addEventListener("click",(function(t){return e.flyTo({center:[37.6156,55.7522],duration:1e3,essential:!0,zoom:3})})),this._container.innerHTML='<button><span class="mapboxgl-ctrl-icon my-image-button" aria-hidden="true" title="Description"></span></button>',this._container}},{key:"onRemove",value:function(){this.container.parentNode.removeChild(this.container),this.map=void 0}}]),e}());function d(e){var t=e.properties["\u041d\u0430\u0437\u0432\u0430"],n=e.properties["\u0421\u0430\u0439\u0442"],i=e.properties["\u0422\u0438\u043f_\u0437"].replace(";",","),o=e.properties["\u0413\u043e\u0440\u043e\u0434"],s=e.properties["\u0410\u0434\u0440\u0435\u0441"],a=e.properties["\u0418\u043c\u044f_\u0441"],r=e.properties.photos.split(","),l=r.length>0&&""!==r[0],d=1===r.length&&""!==r[0],c="";return r.forEach((function(e,t){var n=e;c+=0===t?'<div class="carousel-item active">\n                                            <img class="d-block w-100"\n                                             src="https://storage.yandexcloud.net/champagnefest/'.concat(n.replace("'","").replace("'","").replace(" ",""),'" \n                                             alt="First slide">\n                                        </div>'):'<div class="carousel-item">\n                                            <img class="d-block w-100"\n                                             src="https://storage.yandexcloud.net/champagnefest/'.concat(n.replace("'","").replace("'","").replace(" ",""),'" \n                                             alt="First slide">\n                                        </div>')})),"<div class='content'>\n                    ".concat(l?'\n                        <div class=\'carousel\'>\n                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">\n                            <div class="carousel-inner">\n                                '.concat(c,"\n                            </div>\n                            ").concat(d?"":'\n                                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">\n                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n                                <span class="sr-only">Previous</span>\n                            </a>\n                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">\n                                <span class="carousel-control-next-icon" aria-hidden="true"></span>\n                                <span class="sr-only">Next</span>\n                            </a>',"\n                            </div>\n                    </div>"):"","\n                    \n                    <div class='description'>\n                        <div class='name'><a href=").concat(n,' target="_blank" style="color: black">').concat(t,"</a></div>\n                        <div class='type'>").concat(i,"</div>\n                        <br>\n                        <div class='address'>").concat(o,", ").concat(s,"</div>\n                        <br>\n                        ").concat(a?"<div class='type'>\u0410\u0432\u0442\u043e\u0440 \u0432\u0438\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438 \u2013</div>\n                                    <div class='author'>".concat(a,"</div>"):"","\n                    </div>\n                </div>")}function u(e,i){var o=document.getElementsByClassName("mapboxgl-popup");o.length&&o[0].remove();for(var s=0;s<e.features.length;s++)if(e.features[s].id==i)var r=e.features[s].geometry.coordinates.slice(),l=d(e.features[s]);t.flyTo({center:r,zoom:17,duration:4e3,essential:!0}),a=i,t.setFeatureState({source:"wines",id:n},{selected:!1}),t.setFeatureState({source:"wines",id:a},{selected:!0}),n=a;(new c.a.Popup).setLngLat(r).setHTML(l).addTo(t)}function p(){var e=document.getElementById("right"),n=document.getElementById("sider_btn"),i=e.classList.toggle("collapsed");n.classList.toggle("close");var o={};o.right=i?0:200,t.easeTo({padding:o,duration:3e3})}t.addControl(l,"top-left"),t.addControl(r,"top-left");var m=document.getElementById("root"),f=document.createElement("div");f.innerHTML='\n            <div id="right" \n                class="sidebar flex-center right" \n                style="position: absolute; top: 0px; z-index: 99">\n            <div class="sidebar-content rounded-rect flex-center">\n                <ul class="list" id="list">\n                    <li class="cities">\u041c\u043e\u0441\u043a\u0432\u0430\n                      <ul id="msk">\n                      </ul>\n                    </li>\n                    <li>\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\n                      <ul id="spb">\n                      </ul>\n                    </li>\n                    <li>\u0411\u0430\u0440\u043d\u0430\u0443\u043b\n                        <ul id="brn">\n                        </ul>\n                    </li>\n                    <li>\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a\n                        <ul id="vld">\n                        </ul>\n                    </li>\n                    <li>\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433\n                      <ul id="ekb">\n                      </ul>\n                    </li>\n                    <li>\u0419\u043e\u0448\u043a\u0430\u0440-\u041e\u043b\u0430\n                        <ul id="yos">\n                        </ul>\n                    </li>\n                    <li>\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a\n                        <ul id="krs">\n                        </ul>\n                    </li>\n                    <li>\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434\n                        <ul id="nzn">\n                        </ul>\n                    </li>\n                    <li>\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a\n                        <ul id="nvb">\n                        </ul>\n                    </li>\n                    <li>\u0420\u043e\u0441\u0442\u043e\u0432-\u043d\u0430-\u0414\u043e\u043d\u0443\n                        <ul id="rst">\n                        </ul>\n                    </li>\n                    <li>\u0421\u0443\u0440\u0433\u0443\u0442\n                        <ul id="srg">\n                        </ul>\n                    </li>\n                    <li>\u0422\u043e\u043c\u0441\u043a\n                        <ul id="tmk">\n                        </ul>\n                    </li>\n                    <li>\u0422\u044e\u043c\u0435\u043d\u044c\n                        <ul id="tmn">\n                        </ul>\n                    </li>\n                    <li>\u0423\u0444\u0430\n                        <ul id="ufa">\n                        </ul>\n                    </li>\n                    <li>\u042f\u043b\u0442\u0430\n                        <ul id="yal">\n                        </ul>\n                    </li>\n                  </ul>    \n            </div>\n            </div>\n            ';var y=document.createElement("div");function b(e,t){return e.properties["\u041d\u0430\u0437\u0432\u0430"]<t.properties["\u041d\u0430\u0437\u0432\u0430"]?-1:e.properties["\u041d\u0430\u0437\u0432\u0430"]>t.properties["\u041d\u0430\u0437\u0432\u0430"]?1:0}y.id="sider_btn",y.className="sidebar-toggle rounded-rect right",y.onclick=function(){p()},m.appendChild(f),m.appendChild(y),fetch("https://raw.githubusercontent.com/emgdevhelp/winemap/main/wine_poi_id_itog_photos.geojson").then((function(e){return e.json()})).then((function(e){var t=e.features.sort(b);e.features=t,function(e){for(var t=document.getElementById("msk"),n=document.getElementById("spb"),i=document.getElementById("ekb"),o=document.getElementById("brn"),s=document.getElementById("vld"),a=document.getElementById("yos"),r=document.getElementById("krs"),l=document.getElementById("nzn"),d=document.getElementById("nvb"),c=document.getElementById("rst"),p=document.getElementById("tmk"),m=document.getElementById("tmn"),f=document.getElementById("srg"),y=document.getElementById("ufa"),b=document.getElementById("yal"),v=0;v<e.features.length;v++){if("\u041c\u043e\u0441\u043a\u0432\u0430"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);var g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},t.appendChild(h)}if("\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},n.appendChild(h)}if("\u0411\u0430\u0440\u043d\u0430\u0443\u043b"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},o.appendChild(h)}if("\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},s.appendChild(h)}if("\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},i.appendChild(h)}if("\u0419\u043e\u0448\u043a\u0430\u0440-\u041e\u043b\u0430"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},a.appendChild(h)}if("\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},r.appendChild(h)}if("\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},l.appendChild(h)}if("\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},d.appendChild(h)}if("\u0420\u043e\u0441\u0442\u043e\u0432-\u043d\u0430-\u0414\u043e\u043d\u0443"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",x.className="deselected",(x=document.createElement("a")).innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},c.appendChild(h)}if("\u0421\u0443\u0440\u0433\u0443\u0442"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},f.appendChild(h)}if("\u0422\u043e\u043c\u0441\u043a"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},p.appendChild(h)}if("\u0422\u044e\u043c\u0435\u043d\u044c"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},m.appendChild(h)}if("\u0423\u0444\u0430"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},y.appendChild(h)}if("\u042f\u043b\u0442\u0430"==e.features[v].properties["\u0413\u043e\u0440\u043e\u0434"]){var h,x;(h=document.createElement("li")).className="deselected",(x=document.createElement("a")).className="deselected",x.innerHTML=e.features[v].properties["\u041d\u0430\u0437\u0432\u0430"],h.appendChild(x);g=e.features[v].id;h.id=g,h.onclick=function(){u(e,this.id)},b.appendChild(h)}}}(e)})).catch((function(e){console.log("error: "+e)}));var v,g=document.getElementById("list"),h=Object(i.a)(g.querySelectorAll("li"));try{for(h.s();!(v=h.n()).done;){var x=v.value,L=document.createElement("span");L.classList.add("hide"),x.prepend(L),L.append(L.nextSibling)}}catch(k){h.e(k)}finally{h.f()}var E,_=Object(i.a)(g.querySelectorAll("ul"));try{for(_.s();!(E=_.n()).done;){E.value.hidden=!0}}catch(k){_.e(k)}finally{_.f()}return g.onclick=function(e){if("SPAN"!=e.target.tagName){if("A"!==e.target.tagName)return;for(var t=document.getElementsByClassName("selected"),n=0;n<t.length;++n)t[n].className="deselected";var i=document.getElementsByClassName("selected1");for(n=0;n<i.length;++n)i[n].className="deselected";e.target.classList.remove("deselected"),e.target.classList.add("selected"),e.target.parentNode.classList.add("selected1")}var o=e.target.parentNode.querySelector("ul");o&&(o.hidden=!o.hidden,o.hidden?(e.target.classList.add("hide"),e.target.classList.remove("show")):(e.target.classList.add("show"),e.target.classList.remove("hide")))},t.on("load",(function(){p(),t.addSource("wines",{type:"geojson",data:"https://raw.githubusercontent.com/emgdevhelp/winemap/main/wine_poi_id_itog_photos.geojson",cluster:!0,clusterMaxZoom:14,clusterRadius:38}),t.addSource("msk_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u041c\u043e\u0441\u043a\u0432\u0430"},geometry:{type:"Point",coordinates:[37.6156,55.7522]}}]}}),t.addSource("spb_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"},geometry:{type:"Point",coordinates:[30.315877,59.939099]}}]}}),t.addSource("krs_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a"},geometry:{type:"Point",coordinates:[92.8672,56.0184]}}]}}),t.addSource("nino_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434"},geometry:{type:"Point",coordinates:[44.002,56.3287]}}]}}),t.addSource("ekb_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433"},geometry:{type:"Point",coordinates:[60.6122,56.8519]}}]}}),t.addSource("nsb_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a"},geometry:{type:"Point",coordinates:[82.9346,55.0415]}}]}}),t.addSource("brn_poi",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"\u0411\u0430\u0440\u043d\u0430\u0443\u043b"},geometry:{type:"Point",coordinates:[83.7636,53.3606]}}]}}),t.addLayer({id:"clusters",type:"circle",source:"wines",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#000000",100,"#000000",750,"#000000"],"circle-radius":["step",["get","point_count"],22,10,30,25,40]}}),t.addLayer({id:"cluster-count",type:"symbol",source:"wines",filter:["has","point_count"],layout:{"text-field":["get","point_count_abbreviated"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":16},paint:{"text-color":"#ffffff"}}),t.addLayer({id:"unclustered-point",type:"circle",source:"wines",filter:["!",["has","point_count"]],paint:{"circle-color":["case",["==",["feature-state","selected"],!0],"#ffffff","#000000"],"circle-radius":["case",["==",["feature-state","selected"],!0],5,7],"circle-stroke-width":["case",["==",["feature-state","selected"],!0],2,0],"circle-stroke-color":["case",["==",["feature-state","selected"],!0],"#000000","#000000"]}});t.addLayer({id:"wine_names",type:"symbol",source:"wines",visibility:"none",layout:{"text-field":"{\u041d\u0430\u0437\u0432\u0430}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[.54,.23]},paint:{"text-color":"#000000"}}),t.addLayer({id:"label_layer",type:"symbol",source:"wines",layout:{"text-field":"{\u0413\u043e\u0440\u043e\u0434}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[.64,.23]},paint:{"text-color":"#000000"}}),t.addLayer({id:"msk_names",type:"symbol",source:"msk_poi",visibility:"none",layout:{"text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[.74,-2.33]},paint:{"text-color":"#000000"}}),t.addLayer({id:"spb_names",type:"symbol",source:"spb_poi",visibility:"none",layout:{"text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.54,-1.3]},paint:{"text-color":"#000000"}}),t.addLayer({id:"krs_names",type:"symbol",source:"krs_poi",visibility:"none",layout:{"text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.34,-.8]},paint:{"text-color":"#000000"}}),t.addLayer({id:"ekb_names",type:"symbol",source:"ekb_poi",visibility:"none",layout:{visibility:"none","text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.34,-.8]},paint:{"text-color":"#000000"}}),t.addLayer({id:"nsb_names",type:"symbol",source:"nsb_poi",visibility:"none",layout:{visibility:"none","text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.34,-.8]},paint:{"text-color":"#000000"}}),t.addLayer({id:"brn_names",type:"symbol",source:"brn_poi",layout:{visibility:"none","text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.34,-.8]},paint:{"text-color":"#000000"}}),t.addLayer({id:"nino_names",type:"symbol",source:"nino_poi",visibility:"none",layout:{visibility:"none","text-field":"{name}","text-size":15,"text-anchor":"bottom-left","text-font":["Roboto Light","Arial Unicode MS Bold"],"symbol-avoid-edges":!0,"text-offset":[1.34,-.8]},paint:{"text-color":"#000000"}}),t.on("click","clusters",(function(e){var n=t.queryRenderedFeatures(e.point,{layers:["clusters"]}),i=n[0].properties.cluster_id;t.getSource("wines").getClusterExpansionZoom(i,(function(e,i){e||t.easeTo({center:n[0].geometry.coordinates,duration:3e3,essential:!0,zoom:i+3})}))})),t.on("click",(function(e){var i=t.queryRenderedFeatures(e.point,{layers:["unclustered-point"]});if(i.length){t.setFeatureState({source:"wines",id:n},{selected:!1});var o=i[0];if(o){var s=o.id;t.setFeatureState({source:"wines",id:n},{selected:!1}),t.setFeatureState({source:"wines",id:s},{selected:!0}),n=s}}else t.setFeatureState({source:"wines",id:n},{selected:!1})})),t.on("click","unclustered-point",(function(e){for(var n=e.features[0].geometry.coordinates.slice(),i=d(e.features[0]);Math.abs(e.lngLat.lng-n[0])>180;)n[0]+=e.lngLat.lng>n[0]?360:-360;(new c.a.Popup).setLngLat(n).setHTML(i).addTo(t)})),t.on("mouseenter","clusters",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","clusters",(function(){t.getCanvas().style.cursor=""})),t.on("click","unclustered-point",(function(e){var n=t.getZoom();if(73===e.features[0].id){if(n<5)n=5;t.flyTo({center:e.features[0].geometry.coordinates,zoom:n,duration:6e3,essential:!0})}if(67===e.features[0].id){if(n<12)n=12;t.flyTo({center:e.features[0].geometry.coordinates,zoom:n,duration:6e3,essential:!0})}else{if(n<14)n=15;t.flyTo({center:e.features[0].geometry.coordinates,zoom:n,duration:4e3,essential:!0})}})),t.on("mouseenter","unclustered-point",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","unclustered-point",(function(){t.getCanvas().style.cursor=""})),t.on("zoom",(function(e){var n=t.getZoom();n>11&&t.setLayoutProperty("wine_names","visibility","visible"),n<=11&&t.setLayoutProperty("wine_names","visibility","none"),t.getZoom()>7?(t.setLayoutProperty("label_layer","visibility","none"),t.setLayoutProperty("msk_names","visibility","none"),t.setLayoutProperty("spb_names","visibility","none"),t.setLayoutProperty("krs_names","visibility","none")):(t.setLayoutProperty("label_layer","visibility","visible"),t.setLayoutProperty("msk_names","visibility","visible"),t.setLayoutProperty("spb_names","visibility","visible"),t.setLayoutProperty("krs_names","visibility","visible"))})),t.on("zoom",(function(e){var n=t.getZoom();(n<3.2||n>7)&&(t.setLayoutProperty("ekb_names","visibility","none"),t.setLayoutProperty("nsb_names","visibility","none"),t.setLayoutProperty("brn_names","visibility","none")),n<5||n>7?t.setLayoutProperty("nino_names","visibility","none"):(t.setLayoutProperty("ekb_names","visibility","visible"),t.setLayoutProperty("nsb_names","visibility","visible"),t.setLayoutProperty("brn_names","visibility","visible"),t.setLayoutProperty("nino_names","visibility","visible"))}))})),null}));var b=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,null,l.a.createElement(y,null)))};Object(u.render)(l.a.createElement(b,null),document.getElementById("root"))},7:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.3dd5113c.chunk.js.map